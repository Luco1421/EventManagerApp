<!DOCTYPE html>
<html lang="es-ES">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event's _</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/css/reset.css}">
    <link rel="stylesheet" th:href="@{/css/utils.css}">
    <link rel="stylesheet" th:href="@{/css/reservationDetails.css}">
</head>
<body>
<header>
    <div class="header">
        <div class="logo">
            <img th:src="@{/assets/logo.png}">
        </div>
        <div class="references">
            <a href="/catalogView">
                <button> Página principal </button>
            </a>
            <a href="/login">
                <button> Cerrar sesión </button>
            </a>
        </div>
    </div>
</header>
<div class="centroide_col">
    <div class="mCont">
        <div class="carousel-container">
            <div id="imageCarousel" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                    <div th:each="pic, iterStat : ${salon.images}" th:class="${iterStat.first} ? 'carousel-item active' : 'carousel-item'">
                        <img th:src="${pic.url}" class="d-block w-100" alt="Imagen del salón">
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#imageCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Anterior</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#imageCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Siguiente</span>
                </button>
            </div>
        </div>
        <div class="tCont">
            <h1 th:text="${salon.salonName}"></h1>
            <span th:text="${salon.location}"></span>
        </div>
    </div>
</div>
<div class="centroide_col">
    <div class="mCont">
        <div class="carousel-container">
            <h3>Paquetes</h3>
            <form th:action="@{/managePack}" method="post" class="form">
                <div class="select">
                    <label class="labelText">Seleccionar un paquete:</label>
                    <select name="selectedPack" class="form-control" required>
                        <option value="">-- Selecciona un paquete --</option>
                        <option th:each="pack:${packs}"
                                th:value="${pack.id}"
                                th:text="${pack.packName}">
                        </option>
                    </select>
                </div>
                <br>
                <div>
                    <button type="submit" name="action" value="add" class="btn btn-primary">Añadir</button>
                    <button type="submit" name="action" value="info" class="btn btn-primary">Info</button>
                </div>
            </form>
            <div th:if="${selectedPack != null}" class="info-box">
                <h4>Información del Paquete</h4>
                <p th:text="${selectedPack.packName}"></p>
                <p th:text="'Servicios incluidos: ' + ${selectedPack.services}"></p>
                <p th:text="'Precio: $' + ${selectedPack.price}"></p>
            </div>
        </div>
        <div class="carousel-container">
            <h3>Servicios</h3>
            <form th:action="@{/manageService}" method="post" class="form">
                <div class="select">
                    <label class="labelText">Seleccionar un servicio:</label>
                    <select name="selectedService" class="form-control" required>
                        <option value="">-- Selecciona un servicio --</option>
                        <option th:each="service : ${services}"
                                th:value="${service.id}"
                                th:text="${service.serviceName}"
                                th:selected="${selectedService != null and selectedService.id == service.id}">
                        </option>
                    </select>
                </div>
                <br>
                <div>
                    <button type="submit" name="action" value="add" class="btn btn-primary">Añadir</button>
                    <button type="submit" name="action" value="info" class="btn btn-primary">Info</button>
                </div>
            </form>
            <div th:if="${selectedService != null}" class="info-box">
                <h4>Información del Servicio</h4>
                <p th:text="${selectedService.serviceName}"></p>
                <p th:text="${selectedService.description}"></p>
                <p th:text="'Precio: $' + ${selectedService.price}"></p>
            </div>
        </div>
    </div>
</div>

<div>
    <form th:action="@{/reservar}" method="post">
        <div class="buttCont">
            <button type="submit" class="button-35" role="button">Reservar ya!</button>
        </div>
    </form>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>